<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>T·∫°o QR Code ƒê·ªông</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f9f9f9; }
    input, select, button, textarea { padding: 8px; margin: 6px 0; width: 100%; }
    #qrcode-img { margin-top: 20px; max-width: 100%; border: 1px solid #ccc; }
    .section { margin-top: 30px; padding: 10px; background: #fff; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    code { background: #eee; padding: 2px 4px; border-radius: 4px; }
  </style>
</head>
<body>

<h2>üî≥ T·∫°o m√£ QR ƒë·ªông</h2>

<div class="section">
  <label for="data-input">Nh·∫≠p n·ªôi dung ƒë·ªÉ t·∫°o QR Code:</label>
  <textarea id="data-input" rows="4" placeholder="Nh·∫≠p vƒÉn b·∫£n, li√™n k·∫øt, s·ªë ƒëi·ªán tho·∫°i, email..."></textarea>

  <button onclick="generateQRCode()">üîÑ T·∫°o m√£ QR</button>

  <img id="qrcode-img" src="" alt="QR Code s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y" />

  <button onclick="downloadQR()">‚¨áÔ∏è T·∫£i ·∫£nh QR v·ªÅ</button>
</div>

<div class="section">
  <h3>üåê Link API QR Code ƒë·ªông</h3>
  <p>D∆∞·ªõi ƒë√¢y l√† link ƒë·ªÉ nh√∫ng ·∫£nh QR (API):</p>
  <input type="text" id="qr-link" readonly />

  <button onclick="copyLink()">üìã Sao ch√©p link API</button>
</div>

<div class="section">
  <h3>üìò H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng API QR ƒë·ªông</h3>
  <p>B·∫°n c√≥ th·ªÉ d√πng API nh∆∞ sau:</p>
  <pre><code>https://script.google.com/macros/s/AKfycbxDYxE0vVPLw2cGJG3L8K_BellsK0-atwKcN-8bt4u4SbUku-Zy5MtbpcMeSoaQfwEL/exec?text=YOUR_TEXT</code></pre>
  <ul>
    <li><strong>Thay YOUR_TEXT</strong> b·∫±ng n·ªôi dung c·∫ßn m√£ h√≥a (ph·∫£i ƒë∆∞·ª£c encodeURIComponent).</li>
    <li>C√≥ th·ªÉ d√πng trong th·∫ª &lt;img&gt;, chatbot, Google Sheets, webhook...</li>
    <li>V√≠ d·ª• s·ª≠ d·ª•ng:
      <br />
      <code>&lt;img src="https://script.google.com/macros/s/AKfycb.../exec?text=Hello" /&gt;</code>
    </li>
  </ul>
</div>

<script>
  const webAppBaseURL = "https://script.google.com/macros/s/AKfycbxDYxE0vVPLw2cGJG3L8K_BellsK0-atwKcN-8bt4u4SbUku-Zy5MtbpcMeSoaQfwEL/exec";

  function generateQRCode() {
    const text = document.getElementById("data-input").value.trim();
    if (!text) {
      alert("Vui l√≤ng nh·∫≠p n·ªôi dung!");
      return;
    }

    const encoded = encodeURIComponent(text);
    const qrURL = `${webAppBaseURL}?text=${encoded}`;

    document.getElementById("qrcode-img").src = qrURL;
    document.getElementById("qr-link").value = qrURL;
  }

  function downloadQR() {
    const img = document.getElementById("qrcode-img");
    if (!img.src) {
      alert("Ch∆∞a c√≥ ·∫£nh QR ƒë·ªÉ t·∫£i!");
      return;
    }

    const link = document.createElement("a");
    link.href = img.src;
    link.download = "qrcode.png";
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }

  function copyLink() {
    const linkInput = document.getElementById("qr-link");
    linkInput.select();
    linkInput.setSelectionRange(0, 99999);
    document.execCommand("copy");
    alert("ƒê√£ sao ch√©p link API QR!");
  }
</script>

</body>
</html>

